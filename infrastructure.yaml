
- job:
    name: testcloud-upgrade
    description: |
        Configuration for this job is stored in the Hivemind config file on
        <b>jenkins-upgrader.mgmt.rc.nectar.org.au</b> at
        <b>/var/lib/jenkins/.hivemind/hivemind/config.py</b>
    defaults: global
    node: upgrader
    concurrent: false
    builders:
      - shell: 'hivemind -R test-cloud upgrade.upgrade --unattended'
    triggers:
      - timed: "@midnight"
    publishers:
      - trigger:
          project: tempest-rctest-cinder-check,tempest-rctest-compute-host-check,tempest-rctest-compute-host-check-advanced,tempest-rctest-designate-check,tempest-rctest-ec2api-check,tempest-rctest-fwaas-check,tempest-rctest-lbaas-check,tempest-rctest-magnum-check,tempest-rctest-murano-check,tempest-rctest-neutron-check,tempest-rctest-sahara-check,tempest-rctest-scenario-check,tempest-rctest-trove-check,tempest-heat-scenario-rctest-check-coreservices,tempest-glance-scenario-rctest-check-site-agnostic-testing,tempest-swift-scenario-rctest-check-site-agnostic-testing,tempest-manila-cephfs-rctest-check-coreservices,tempest-telemetry-rctest-check-coreservices
          threshold: SUCCESS
